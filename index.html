<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flores Amarillas para AnahÃ­</title>
  <style>
    :root{
      --bg:#0b1020;
      --petal:#ffd54a; /* amarillo suave */
      --petal-dark:#f6c63a;
      --center:#ffb300;
      --stem:#3ba745; /* verde tallo */
      --leaf:#45c65a; /* verde hoja */
    }
    html,body{height:100%;margin:0;padding:0;font-family:system-ui,Segoe UI,Roboto,Arial}
    body{background: radial-gradient(1200px 600px at 10% 10%, rgba(255,240,200,0.06), transparent), var(--bg); overflow:hidden;}

    .stage{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;perspective:1200px;-webkit-perspective:1200px;}

    .card{position:relative;z-index:5;max-width:820px;padding:28px 32px;border-radius:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      box-shadow: 0 10px 40px rgba(3,6,15,0.6);
      color: #fff;text-align:center;backdrop-filter: blur(6px);}
    .title{font-size:28px;margin:0 0 8px;font-weight:700}
    .subtitle{opacity:0.9;margin:0 0 18px}
    .open-link{display:inline-block;padding:10px 18px;border-radius:999px;background:linear-gradient(90deg,#ffd54a,#ffb300);color:#1a1a1a;font-weight:700;text-decoration:none}

    .garden{pointer-events:none;position:fixed;inset:0;z-index:2;overflow:hidden;transform-style:preserve-3d;}

    .flower{position:absolute;width:120px;height:180px;transform-style:preserve-3d;display:block;
      transform-origin:center center;will-change:transform,opacity;}

    .petal{position:absolute;left:50%;top:30%;width:60px;height:24px;border-radius:120px 120px 24px 24px/60px 60px 24px 24px;
      transform-origin:0 50%;background: linear-gradient(180deg,var(--petal),var(--petal-dark));
      box-shadow: 0 6px 18px rgba(0,0,0,0.18), inset 0 -6px 18px rgba(255,255,255,0.06);}
    .center{position:absolute;left:50%;top:30%;width:28px;height:28px;margin-left:-14px;margin-top:-14px;border-radius:50%;
      background: radial-gradient(circle at 35% 30%, #fff3c4, var(--center));box-shadow:0 6px 16px rgba(0,0,0,0.25);transform:translateZ(40px);}

    /* Tallo y hojas */
    .stem{position:absolute;left:50%;bottom:0;width:6px;height:100px;background:var(--stem);border-radius:3px;transform:translateX(-50%);}
    .leaf{position:absolute;width:36px;height:16px;background:var(--leaf);border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;}
    .leaf.left{left:50%;top:60%;transform:translateX(-110%) rotate(-30deg);}
    .leaf.right{left:50%;top:70%;transform:translateX(10%) rotate(30deg);}

    @keyframes spin3d{from{transform: rotateX(0deg) rotateY(-10deg) rotateZ(0deg)}to{transform: rotateX(360deg) rotateY(350deg) rotateZ(360deg)}}
    @keyframes floatUp{0%{transform: translateY(40px) translateZ(0) scale(0.85);opacity:0}30%{opacity:1}100%{transform: translateY(-160vh) translateZ(220px) scale(1.15);opacity:0}}

    .flower.animate{animation: floatUp var(--life,18s) linear forwards;}
    .flower .rotator{position:absolute;inset:0;transform-style:preserve-3d;animation: spin3d var(--spin,8s) linear infinite;}

    .petal.sm{width:46px;height:18px}
    .petal.lg{width:80px;height:32px}

    .note{font-size:14px;opacity:0.9}

    @media (max-width:520px){ .card{padding:20px;margin:16px;border-radius:12px} .title{font-size:20px} }
  </style>
</head>
<body>
  <div class="stage">
    <div class="card" role="region" aria-label="Tarjeta de flores amarillas">
      <h1 class="title">para la chaparritaa ANAHI ðŸŒ¼</h1>
      <p class="subtitle">son flores amarillas, solo para ti... se que no son reales pero un aÃ±o espero
        poder darte algunas... por los viejos tiempos XD
      </p>
      <p class="note"> a la otra seran mucho mejores 7w7 </p>
      <p style="margin-top:14px"><a class="open-link" href="#garden" id="showGarden">precionamee XD</a></p>
    </div>
  </div>

  <div class="garden" id="garden" aria-hidden="true"></div>

  <script>
    const SETTINGS = { total: 28, burstDelay: 60, petalCountRange: [5,8], sizeRange: [64,160], spinRange: [6,16], lifeRange: [14,28], xPadding: 0.08 };

    const garden = document.getElementById('garden');
    const openBtn = document.getElementById('showGarden');

    function rand(min, max){return Math.random()*(max-min)+min}
    function randInt(min,max){return Math.floor(rand(min,max+1))}

    function createFlower(){
      const el = document.createElement('div'); el.className = 'flower';
      const size = Math.round(rand(SETTINGS.sizeRange[0], SETTINGS.sizeRange[1]));
      el.style.width = size + 'px'; el.style.height = (size*1.4) + 'px';
      const vw = window.innerWidth; const vh = window.innerHeight;
      const xpad = SETTINGS.xPadding;
      const left = rand(vw*xpad, vw*(1-xpad));
      const top = rand(vh*0.55, vh*0.95);
      el.style.left = (left - size/2) + 'px';
      el.style.top = (top - size/2) + 'px';
      const rx = rand(-30,30); const ry = rand(-40,40); const rz = rand(-30,30);
      el.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) rotateZ(${rz}deg) translateZ(${rand(-60,140)}px)`;

      const rot = document.createElement('div'); rot.className = 'rotator';
      const petals = randInt(SETTINGS.petalCountRange[0], SETTINGS.petalCountRange[1]);
      for(let i=0;i<petals;i++){
        const p = document.createElement('div'); p.className = 'petal';
        const sclass = (Math.random()<0.15)?' lg':(Math.random()<0.18)?' sm':'';
        if(sclass) p.className += sclass;
        const angle = (360/petals) * i + rand(-6,6);
        p.style.transform = `translate(-50%,-50%) rotate(${angle}deg) translateZ(${rand(10,60)}px)`;
        p.style.opacity = rand(0.86,1).toFixed(2);
        rot.appendChild(p);
      }
      const center = document.createElement('div'); center.className = 'center';
      rot.appendChild(center);

      // tallo y hojas
      const stem = document.createElement('div'); stem.className = 'stem';
      const leafL = document.createElement('div'); leafL.className = 'leaf left';
      const leafR = document.createElement('div'); leafR.className = 'leaf right';

      el.appendChild(rot);
      el.appendChild(stem);
      el.appendChild(leafL);
      el.appendChild(leafR);

      const spin = rand(SETTINGS.spinRange[0], SETTINGS.spinRange[1]).toFixed(2) + 's';
      const life = rand(SETTINGS.lifeRange[0], SETTINGS.lifeRange[1]).toFixed(2) + 's';
      el.style.setProperty('--spin', spin);
      el.style.setProperty('--life', life);

      return el;
    }

    function bloomSequence(count){
      let created = 0;
      const interval = setInterval(()=>{
        if(created >= count){ clearInterval(interval); return; }
        const f = createFlower();
        garden.appendChild(f);
        void f.offsetWidth;
        f.classList.add('animate');
        created++;
        const life = parseFloat(getComputedStyle(f).getPropertyValue('--life')) || 18;
        setTimeout(()=>{ try{ garden.removeChild(f); }catch(e){} }, (life*1000)+1500);
      }, SETTINGS.burstDelay);
    }

    openBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      garden.setAttribute('aria-hidden','false');
      document.querySelector('.stage').style.transition = 'opacity 700ms ease';
      document.querySelector('.stage').style.opacity = 0;
      bloomSequence(SETTINGS.total);
      setTimeout(()=>{
        for(let r=0;r<3;r++){
          setTimeout(()=>{ bloomSequence(Math.round(SETTINGS.total*0.45)); }, 1400 * r);
        }
      }, 2200);
    });

    if(location.hash === '#garden'){
      setTimeout(()=> openBtn.click(), 500);
    }

    document.addEventListener('click', (e)=>{
      if(e.target.closest('.open-link')) return;
      bloomSequence(Math.round(SETTINGS.total*0.25));
    });
  </script>
</body>
</html>
